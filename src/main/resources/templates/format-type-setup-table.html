<!DOCTYPE html>
<html>
    <head>
         <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
        <title>Web Statement - Format Setup</title>

        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/jquery-ui-dist@1.12.1/jquery-ui.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
       
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-ui-dist@1.12.1/jquery-ui.css" integrity="sha256-p6xU9YulB7E2Ic62/PX+h59ayb3PBJ0WFTEQxq0EjHw=" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
        <link href="/css/page.css" rel="stylesheet" />
        <link href="/font/noto.css" rel="stylesheet" />
        <link href="/font/barcode.css" rel="stylesheet" />
    </head>
    <body>
    	<div th:include="dashboard/com/navbar :: navbar"></div>
    
        <div class="page">
       	
            <div id="filter" class="d-flex justify-content-end">
                
                <span class="ml-2 mr-2">Country</span>
                <select id="country">
                    <option>CN</option>
                    <option>SG</option>
                    <option>TW</option>
                    <option>PL</option>
                </select>
                <span class="ml-2 mr-2">Service Area</span>
                <select id="servicearea">
                    <option>AAA - X</option>
                    <option>BBB - Y</option>
                </select>
                <span class="ml-2 mr-2">Product Family</span>
                <select id="productfamily">
                    <option>CA</option>
                    <option>SA</option>
                    <option>LN</option>
                </select>
                &#12288; &#12288;
        		<button class="btn btn-info btn-search" id="search" style="margin-top:-13px;" th:onclick="searchf()">Search</button>	      		
            </div>
            <div id="FTS">

	            <h2>Format Type Setup</h3>
	            <h5>SA - Saving Account</h5>
	            <div id="countryc"><h5>CN - AAAX</h5></div>
	           <table id="prod-seq" class="table table-striped table-bordered table-hover">
	               <thead>
	                   <tr>
	                       <th>Sub Type</th>
	                       <th>Description</th>
	                       <th>Status</th>
	                       <th>Operation</th>
	                   </tr>
	               </thead>
	               <tbody>
	                   <tr>
	                       <td id="subtype">01</td>
	                       <td id="description">Default Layout for Saving Account Summary</td>
	                       <td id="status">Current</td>
	                       <td>
	                           <a id="opener" href="#" class="btn btn-primary btn-sm" role="button">View Layout</a>
	                           <a id="approver" href="#" class="btn btn-secondary btn-sm disabled" role="button" aria-disabled="true">Approve</a>
	                       </td>
	                   </tr>
	                   <tr>
	                        <td>02</td>
	                        <td>Default Layout for Saving Account Details</td>
	                        <td>Pending</td>
	                        <td>
	                            <a id="opener" href="#" class="btn btn-primary btn-sm" role="button">View Layout</a>
	                            <a id="approver" href="#" class="btn btn-secondary btn-sm" role="button">Approve</a>
	                        </td>
	                    </tr>
	               </tbody>
	           </table>
           </div>
        </div>
        <div id="popup-summary" title="Sub Type Details">
            <dl>
                <dt>Product Family</dt><dd id="productfamilyp">LN - Loans</dd>
                <dt>Service Area</dt><dd id="serviceareas">AAA - X</dd>
                <dt>Layout</dt>
                <dd>
                    <div id="layout-preview" class="border bordered-success p-2 m-2">
                        <span class="mr-2">Product Name</span>
                        <a href="#"><span class="ui-icon ui-icon-closethick"></span></a>
                        <span id="item-acct-no" class="ml-2 mr-2">Account NO. <a id="rm-btn-item-acct-no" href="#" title="Remove this item."><span class="ui-icon ui-icon-closethick"></span></a></span>
                        <table id="layout-table" class="table table-bordered table-hover">
                            <thead class="thead-light">
                                <tr>
                                    <th>Date<a href="#"><span class="ui-icon ui-icon-closethick"></span></a></th>
                                    <th>Transaction<a href="#"><span class="ui-icon ui-icon-closethick"></span></a></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td></td>
                                    <td></td>
                                </tr>
                            </tbody>
                        </table>
                        <div>[Placeholder - {$SA01-Summary-Disclaimer$}]<a href="#"><span class="ui-icon ui-icon-closethick"></span></a></div>
                    </div>
                    <div class="alert alert-info" role="alert">You can add more displaying items by below editor</div>
                    <h4>Layout Editor</h4>
                    <div>

                    </div>
                </dd>
            </dl>
        </div>
       
        <script>
           $(document).ready(function (){
             $("#approver").click(function(){
                 alert("Approval Request Will Send.");
             });

             $("#popup-summary").dialog({
                 resizable:false,
                 autoOpen:false,
                 height:'auto',
                 width:400,
                 modal:true,
                 buttons: [
                     {
                         text:'Approve',
                         click: function(){
                            alert("Approval Request Will Send.");
                         }
                     },
                     {
                         text: 'Close',
                         click: function() {
                             $(this).dialog("close");
                         }
                     }
                 ]
             });

             $("#opener").on("click", function(){
                 $("#popup-summary").dialog("open");
             });

           });
           
           function searchf(){    
        	   
        	   var country= $("#country").find("option:selected").val();  
        	   var servicearea=$("#servicearea").find("option:selected").val();
        	   var productfamily=$("#productfamily").find("option:selected").val();
        	   
        	   var c=$("#countryc").text();
        	   var p=$("#productfamilyp").text();
        	   
        	   var countryc=c.substr(0,2);   	   
        	   var productfamilyp=p.substr(0,2);
        	   var serviceareas=$("#serviceareas").text();
        	   
        	   var subtype=$("#subtype").text();
        	   var description=$("#description").text();
        	   var status=$("#status").text();

        	   if(country==countryc){
        		   if(servicearea==serviceareas){
        			   if(productfamily==productfamilyp){
        				   
        				   $("#FTS").empty();
        				   
        				   var str="";
        				   
        				   str+='<h2>Format Type Setup</h3>'+
        		           		'<h5>SA - Saving Account</h5>'+
        		           		'<h5>'+country+' - '+servicearea.substr(0,3)+servicearea.substr(6,7)+'</h5>'+
        		           		'<table id="prod-seq" class="table table-striped table-bordered table-hover">'+
					               '<thead>'+
					                   '<tr>'+
					                       '<th>Sub Type</th>'+
					                       '<th>Description</th>'+
					                       '<th>Status</th>'+
					                       '<th>Operation</th>'+
					                   '</tr>'+
					               '</thead>'+
					               '<tbody>'+
					                   '<tr>'+
					                       '<td>'+subtype+'</td>'+
					                       '<td>'+description+'</td>'+
					                       '<td>'+status+'</td>'+
					                       '<td>'+
					                           '<a id="opener" href="#" class="btn btn-primary btn-sm" role="button">View Layout</a>'+
					                           '<a id="approver" href="#" class="btn btn-secondary btn-sm disabled" role="button" aria-disabled="true">Approve</a>'+
					                       '</td>'+
					                   '</tr>'+   
					               '</tbody>'+
					           '</table>';
        				   
        				   $("#FTS").append(str);
        				  
        			   }else{
        				   alert("The required format was not found,please try again!");
                		   window.location.reload(true);
        			   }
        		   }else{
        			   alert("The required format was not found,please try again!");
            		   window.location.reload(true);
        		   }
   
        	   }else{
        		   alert("The required format was not found,please try again!");
        		   window.location.reload(true);
        	   }
        	    
        	};

        </script>
    </body>
</html>